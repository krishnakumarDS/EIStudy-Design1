import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMNI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
  systemInstruction:
    "Generate a Travel Plan for Loccation:Las Vegasm for 3 Dats for Couple with a Cheap Budget. Give me a Hotel Options list with HotelName, Hotel address, prices, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image URL, Geo Coordinates, rating, ticket Pricing, Time & Travel each of the location for 3 days with each day plan with best time to visit in JSON format\n",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate a Travel Plan for Loccation:Las Vegasm for 3 Dats for Couple with a Cheap Budget. Give me a Hotel Options list with HotelName, Hotel address, prices, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image URL, Geo Coordinates, rating, ticket Pricing, Time & Travel each of the location for 3 days with each day plan with best time to visit in JSON format\n\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a JSON-formatted travel plan for a couple\'s 3-day, budget-friendly trip to Las Vegas.  I\'ve included hotel options and a detailed itinerary.  Note that prices can fluctuate *significantly* depending on the time of year, day of the week, and availability.  I\'ve tried to provide realistic estimates, but always double-check before booking.\n\n```json\n{\n  "tripName": "Las Vegas Budget Getaway for Couples (3 Days)",\n  "location": "Las Vegas, Nevada",\n  "budget": "Cheap/Budget-Friendly",\n  "travelers": "Couple",\n  "hotelOptions": [\n    {\n      "hotelName": "Stratosphere Hotel, Casino & Tower",\n      "hotelAddress": "2000 Las Vegas Blvd S, Las Vegas, NV 89104",\n      "pricePerNight": 45,\n      "hotelImageURL": "https://www.vegas.com/wp/wp-content/uploads/2023/08/stratosphere-hotel-tower-las-vegas-800x600.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1470,\n        "longitude": -115.1574\n      },\n      "rating": 3.5,\n      "description": "Offers affordable rooms and access to the iconic Stratosphere Tower.  The location is a bit north of the main Strip, but the views are incredible. The rooms are basic, but clean. Tower access provides fantastic city views. Check for resort fees."\n    },\n    {\n      "hotelName": "Excalibur Hotel & Casino",\n      "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "pricePerNight": 60,\n      "hotelImageURL": "https://www.vegas.com/wp/wp-content/uploads/2023/08/excalibur-hotel-and-casino-las-vegas-800x600.jpg",\n      "geoCoordinates": {\n        "latitude": 36.0985,\n        "longitude": -115.1746\n      },\n      "rating": 4.0,\n      "description": "A castle-themed hotel on the south end of the Strip. It\'s connected to other MGM properties, offering easy access to more attractions.  Themed decor, affordable dining options, and a good location.  Rooms can be a bit dated."\n    },\n    {\n      "hotelName": "Luxor Hotel & Casino",\n      "hotelAddress": "3900 S Las Vegas Blvd, Las Vegas, NV 89119",\n      "pricePerNight": 55,\n      "hotelImageURL": "https://www.vegas.com/wp/wp-content/uploads/2023/08/luxor-hotel-and-casino-las-vegas-800x600.jpg",\n      "geoCoordinates": {\n        "latitude": 36.0956,\n        "longitude": -115.1759\n      },\n      "rating": 4.0,\n      "description": "An iconic pyramid-shaped hotel.  Unique architecture and relatively affordable.  Close to other south-end Strip attractions. Rooms in the pyramid have slanted walls. Check for resort fees."\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "theme": "South Strip Exploration & Free Entertainment",\n      "bestTimeToVisit": "Afternoon/Evening",\n      "activities": [\n        {\n          "placeName": "Welcome to Las Vegas Sign",\n          "placeDetails": "The iconic sign! Get a picture to commemorate your trip. Can be crowded, especially during peak hours.",\n          "placeImageURL": "https://www.lasvegasnevada.gov/wp-content/uploads/2023/02/Welcome-to-Las-Vegas-Sign.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0829,\n            "longitude": -115.1731\n          },\n          "rating": 4.5,\n          "ticketPricing": "Free",\n          "timeSpent": "30 minutes",\n          "travelTimeFromHotel": "Depends on hotel location (15-30 minutes by car/bus from most hotels)."\n        },\n        {\n          "placeName": "Bellagio Conservatory & Botanical Garden",\n          "placeDetails": "Stunning floral displays that change seasonally. Free to enter.",\n          "placeImageURL": "https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-chinese-new-year-2024-16x7.adapt.1900.1.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1125,\n            "longitude": -115.1744\n          },\n          "rating": 4.8,\n          "ticketPricing": "Free",\n          "timeSpent": "1 hour",\n          "travelTimeFromPrevious": "15-20 minutes by bus/walking."\n        },\n        {\n          "placeName": "Bellagio Fountain Show",\n          "placeDetails": "A spectacular water show choreographed to music. Runs every 30 minutes in the afternoon and every 15 minutes in the evening.",\n          "placeImageURL": "https://www.vegas.com/wp/wp-content/uploads/2023/08/bellagio-fountains-las-vegas-800x600.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1128,\n            "longitude": -115.1741\n          },\n          "rating": 4.7,\n          "ticketPricing": "Free",\n          "timeSpent": "30 minutes",\n          "travelTimeFromPrevious": "Right outside the Conservatory"\n        },\n        {\n          "placeName": "Walk the Strip South",\n          "placeDetails": "Walk south past the Paris Hotel, the Eiffel Tower replica (photo op!), Planet Hollywood, and the shops at Miracle Mile. Enjoy the street performers and atmosphere.",\n          "placeImageURL": "https://cms.prod.nypr.digital/images/52998/original",\n          "geoCoordinates": {\n            "latitude": 36.1162,\n            "longitude": -115.1740\n          },\n          "rating": 4.5,\n          "ticketPricing": "Free (window shopping!)",\n          "timeSpent": "2-3 hours",\n          "travelTimeFromPrevious": "Walking"\n        },\n         {\n          "placeName": "Free Shows at Fremont Street Experience",\n          "placeDetails": "Viva Vision light shows on the canopy above Fremont Street, and live music. A unique Vegas experience.",\n          "placeImageURL": "https://fremontstreetexperience.com/wp-content/uploads/2023/01/FSE-Homepage-Hero-Image.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1703,\n            "longitude": -115.1420\n          },\n          "rating": 4.6,\n          "ticketPricing": "Free",\n          "timeSpent": "2-3 hours",\n          "travelTimeFromPrevious": "30 minute drive from the strip"\n        }\n      ]\n    },\n    "day2": {\n      "theme": "Downtown & Value Dining",\n      "bestTimeToVisit": "Daytime for sights, Evening for Fremont Street",\n      "activities": [\n        {\n          "placeName": "Fremont Street Experience (Daytime)",\n          "placeDetails": "Explore the shops, casinos, and street performers in Downtown Las Vegas. It\'s a different vibe than the Strip.",\n          "placeImageURL": "https://fremontstreetexperience.com/wp-content/uploads/2023/01/FSE-Homepage-Hero-Image.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1703,\n            "longitude": -115.1420\n          },\n          "rating": 4.3,\n          "ticketPricing": "Free (activities and gambling cost extra)",\n          "timeSpent": "3-4 hours",\n          "travelTimeFromHotel": "Depends on hotel location (30-45 minutes by bus from the Strip)"\n        },\n        {\n          "placeName": "Mob Museum",\n          "placeDetails": "Learn about the history of organized crime in America.  Interesting exhibits but can be pricey.",\n          "placeImageURL": "https://themobmuseum.org/wp-content/uploads/2023/12/mob-museum-1200-x-675-1-2024.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1713,\n            "longitude": -115.1438\n          },\n          "rating": 4.5,\n          "ticketPricing": "$30 per person (check for discounts)",\n          "timeSpent": "2-3 hours",\n          "travelTimeFromPrevious": "5-minute walk from Fremont Street."\n        },\n        {\n          "placeName": "Gold and Silver Pawn Shop",\n          "placeDetails": "The famous pawn shop from the TV show \'Pawn Stars\'. It\'s usually crowded.",\n          "placeImageURL": "https://www.vegas.com/wp/wp-content/uploads/2023/08/gold-and-silver-pawn-shop-las-vegas-800x600.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1681,\n            "longitude": -115.1527\n          },\n          "rating": 3.8,\n          "ticketPricing": "Free (unless you buy something!)",\n          "timeSpent": "1-2 hours",\n          "travelTimeFromPrevious": "10-15 minute walk or short ride from Fremont Street."\n        },\n        {\n          "placeName": "Cheap Eats Downtown",\n          "placeDetails": "Search for cheap eats options on Yelp, lots of delicious options",\n          "placeImageURL": "https://s3-media0.fl.yelpcdn.com/bphoto/A9h-2138N6E6b0P8G7K30Q/o.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1681,\n            "longitude": -115.1527\n          },\n          "rating": 4.0,\n          "ticketPricing": "Variable",\n          "timeSpent": "1-2 hours",\n          "travelTimeFromPrevious": "Near any attraction from downtown"\n        }\n      ]\n    },\n    "day3": {\n      "theme": "Relaxation and Departure",\n      "bestTimeToVisit": "Morning/Afternoon",\n      "activities": [\n        {\n          "placeName": "Pool Time",\n          "placeDetails": "Enjoy the hotel pool. Many hotels allow non-guests to use their pool for a fee, but check beforehand.",\n          "placeImageURL": "https://www.vegas.com/wp/wp-content/uploads/2023/08/mandalay-bay-beach-pools-las-vegas-800x600.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1681,\n            "longitude": -115.1527\n          },\n          "rating": 4.2,\n          "ticketPricing": "Free (if you\'re a hotel guest, otherwise, check fees)",\n          "timeSpent": "2-3 hours",\n          "travelTimeFromHotel": "At your hotel"\n        },\n        {\n          "placeName": "High Roller Observation Wheel",\n          "placeDetails": "A giant Ferris wheel with amazing views of the Strip and surrounding area.",\n          "placeImageURL": "https://caesars.com/content/dam/caesars/high-roller/secondary-tile/high-roller-observation-wheel-secondary-tile-1x1.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1148,\n            "longitude": -115.1691\n          },\n          "rating": 4.4,\n          "ticketPricing": "$25-37 per person (check for discounts online)",\n          "timeSpent": "1-2 hours",\n          "travelTimeFromHotel": "Depends on hotel, use the bus or taxi."\n        },\n        {\n          "placeName": "Departure",\n          "placeDetails": "Head to the airport for your flight home.",\n          "placeImageURL": "https://www.hollandamerica.com/content/dam/hal/images/ports/LAS/Las%20Vegas_LAS_McCarran%20International%20Airport_Aerial_2000x1000.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0801,\n            "longitude": -115.1523\n          },\n          "rating": 4.0,\n          "ticketPricing": "Depends on the method of transportation to get there.",\n          "timeSpent": "Variable",\n          "travelTimeFromHotel": "Allow at least 2-3 hours for travel to the airport and security."\n        }\n      ]\n    }\n  },\n  "budgetTips": [\n    "Travel during the off-season (summer is extremely hot, avoid major holidays and conventions).",\n    "Take advantage of free attractions.",\n    "Eat at affordable restaurants or buffets (look for deals).",\n    "Use public transportation (the Deuce bus) or ride-sharing services.",\n    "Avoid gambling too much!",\n    "Look for hotel deals online and compare prices.",\n    "Bring your own water and snacks to avoid paying high prices on the Strip."\n  ]\n}\n```\n\n**Important Considerations:**\n\n*   **Resort Fees:** Many Las Vegas hotels charge mandatory resort fees that are *not* included in the advertised room rate. Be sure to factor these into your budget.\n*   **Transportation:** Walking the Strip is possible, but distances are deceptive. The Deuce bus is a cost-effective option for getting around. Ride-sharing services (Uber/Lyft) are readily available, but prices can surge during peak hours.\n*   **Food and Drinks:** Eating and drinking on the Strip can be expensive. Consider exploring off-Strip options or utilizing grocery stores to save money.  Happy hour specials can also be your friend.\n*   **Flexibility:** Be prepared to adjust your itinerary based on your interests and budget.\n*   **Discounts:** Check for online discounts for shows, attractions, and tours.  Groupon and other similar sites can offer good deals.\n*   **Safety:** Be aware of your surroundings, especially at night.\n\n**Disclaimer:**  Prices and availability are subject to change. Always verify information before making bookings.  Have a great trip to Vegas!\n',
        },
      ],
    },
  ],
});
